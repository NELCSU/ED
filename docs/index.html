<!DOCTYPE xhtml>
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="Urgent Care COVID-19 Flows" />
	<meta name="keywords" content="NHS, COVID-19, urgent care" />

	<title>Urgent Care COVID-19 Flows</title>

	<link href="favicon.png" rel="shortcut icon" />
	<link href="css/index.css" rel="stylesheet" />
	<link href="css/nv.d3.css" rel="stylesheet" />

	<script src="js/lib/dragdealer.min.js"></script>
	<script src="js/lib/d3.v3.min.js"></script>
	<!-- NV D3 library goes after D3 base library -->
	<script src="js/lib/nv.d3.min.js"></script>
	<script src="js/lib/jszip.min.js"></script>
	<script src="js/lib/jszip-utils.min.js"></script>
</head>
<body>

	<!--TITLELBAR-->
	<div id="titlebar" class="acc border-bottom">
		<a href="index.html" title="Home"><img id="favicon" src="favicon.png" alt="Home" /></a>
		<span id="titletext" class="pagetitle th-fg-color">Urgent Care COVID-19 Flows</span>
	</div>

	<div id="loading" class="th-fg-color">Loading...</div>

	<!--PAGE WRAPPER-->
	<div id="content" style="opacity:0;visibility:hidden;">

		<div id="titlebar-right"><!-- see titlebar.js --></div>

		<!--SANKEY DIAGRAM CONTROLS-->
		<div class="panel-right acc border-left">
			<div class="panel-right-settings">
				<div style="display:block;overflow: hidden;white-space: nowrap;">
					<span style="float:left;">STP:</span>
					<span	style="float:right;">
						<select id="stp" style="width:130px;direction: rtl;"></select>
					</span>
				</div>

				<div style="display:block;overflow: hidden;white-space: nowrap;">
					<span style="float:left;">Day:</span>
					<span	style="float:right;">
						<select id="day" style="width:130px;direction: rtl;"></select>
					</span>
				</div>

				<div style="display:block;overflow: hidden;white-space: nowrap;">
					<span style="float:left;">Scope:</span><span style="float:right;">
						<input type="radio" title="System level" onclick="change();" name="r1" id="b00" value="00" />
						<input type="radio" title="Provider level" onclick="change();" name="r1" id="b01" value="01" />
					</span>
				</div>

				<div style="display:block;overflow: hidden;white-space: nowrap;">
					<span style="float:left;">Calls:</span><span style="float:right;">
						<input type="radio" title="All calls" onclick="change();" name="r1" id="b10" value="10" />
						<input type="radio" title="COVID-12 calls" onclick="change();" name="r1" id="b11" value="11" />
						<input type="radio" title="Non-COVID-19 calls" onclick="change();" name="r1" id="b12" value="12" />
						<input type="radio" title="Primary care calls" onclick="change();" name="r1" id="b13" value="13" />
					</span>
				</div>

				<div style="display:block;overflow: hidden;white-space: nowrap;"><span style="float:left;">Move nodes:</span>
					<div style="float:right; padding-right:0; margin-right:0;">
						<div style="font-size:20px;font-weight:bold;line-height:10px;">
							<input title="Enable horizontal node dragging" type="checkbox" id="xmove">
							<label for="xmove">↔</label>
							<img alt="" style="width:5px;height:0px;">
							<input title="Enable vertical node dragging" type="checkbox" id="ymove" checked>
							<label for="ymove">↕</label>
						</div>
					</div>
				</div>

				<div style="display:block;overflow: hidden;white-space: nowrap;"><span style="float:left;">Density:</span>
					<div style="float:right;">
						<div id="pslider" title="Drag slider to set diagram node padding" class="dragdealer"
							style="margin-top:2px;margin-left:-130px;width:130px; height:18px; position:absolute;">
							<div class="handle orange-bar">↔
								<script>
									var densityslider = new Dragdealer("pslider", {
										x: 0.5,
										steps: 5,
										snap: true,
										callback: function (a, b) {
											padding = paddingmultiplier * (1 - a) + 3;
											change()
										}
									});
								</script>
							</div>
						</div>
					</div>
				</div>
	
				<div style="display:block;overflow: hidden;white-space: nowrap;"><span style="float:left;">Opacity:</span>
					<div style="float:right;">
						<div id="oslider" title="Drag slider to set diagram flow opacities" class="dragdealer"
							style="margin-top:2px;margin-left:-130px;width:130px; height:18px; position:absolute;">
							<div class="handle orange-bar">↔
								<script>
									new Dragdealer("oslider", {
										x: 0.25,
										steps: 5,
										snap: true,
										callback: function (a, b) {
											lowopacity = 0.1 + 0.8 * a;
											change()
										}
									});
								</script>
							</div>
						</div>
					</div>
				</div>

				<div class="acc border-bottom" style="display:block;overflow: hidden;white-space: nowrap; padding-bottom:10px;">
					<span style="float:left;">
						Breakdown: <input type="checkbox" title="Toggle piechart" id="ctrlBreakdown" checked />
					</span>
					<span style="float:right;">
						Legend: <input type="checkbox" title="Toggle piechart legend" id="ctrlLegend" onclick='updpieleg()' checked />
					</span>
				</div>
			</div>

			<div class="panel-right-charts">
				<div class="piechart primary">
					<svg style="width:100%;height:100%;"></svg>
				</div>
		
				<div class="piechart secondary">
					<svg style="width:100%;height:100%;"></svg>
				</div>
			</div>
		</div>

		<!--SANKEY DIAGRAM-->
		<div id="chart" onmousewheel="scrollsankey(event.wheelDelta)" style="z-index:5;">

			<div id="miniDQChart"><!-- see dq.js--></div>

		</div>

		<!--TIME SLIDER-->
		<div id="timeslider" title="Scroll through available days in the data" class="dragdealer">
			<div class="handle red-bar">
				<span class="value"></span>
			</div>
		</div>
	</div>

	<script src="js/titlebar.js"></script>
	<script src="js/tooltip.js"></script>
	<script src="js/dq.js"></script>
	<script src="js/sankey.js"></script>
	<script src="js/app.js"></script>

	<div id="theme_toolbar"></div>
	<script src="js/theme.js"></script>

	<script src="js/checksize.js"></script>
</body>
</html>